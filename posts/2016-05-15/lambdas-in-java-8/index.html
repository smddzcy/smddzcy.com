<!doctype html><html lang="en"><head><meta charset="utf-8"><link rel="shortcut icon" href="/favicon.ico"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="theme-color" content="#000000"><meta name="robots" content="index,follow"><meta name="googlebot" content="index,follow"><meta name="rating" content="General"><link rel="alternate" href="https://smddzcy.com/rss.xml" type="application/rss+xml" title="RSS"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="smddzcy.com"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="skype_toolbar" content="skype_toolbar_parser_compatible"><meta name="renderer" content="webkit|ie-comp|ie-stand"><link rel="manifest" href="/manifest.json"><link rel="canonical" href="/posts/2016-05-15/lambdas-in-java-8" />

    <title data-react-helmet="true">Lambda Expressions in Java 8</title>
    
    
  <script>window.__NAVI_STATE__={"__navi__":{"requestDataWithoutState":{}}};</script><link href="/static/css/main.5503d929.chunk.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"><div class="BlogLayout_container__3WeFl"><div class="
        LoadingIndicator_LoadingIndicator__22gHk
        
        undefined
      "></div><header><h3 class="BlogLayout_title__6OZKV"><a href="/" context="[object Object]" class=" ">smddzcy | yet another dev</a></h3></header><main><article><header class="BlogPostLayout_header__2LB8S"><h1 class="BlogPostLayout_title__3g2FG"><a href="/posts/2016-05-15/lambdas-in-java-8" context="[object Object]" class=" ">Lambda Expressions in Java 8</a></h1><small><time dateTime="Sat, 14 May 2016 21:00:00 GMT">May 15, 2016</time> <!-- -->•<!-- --> <ul class="ArticleMeta_tags__VKe_V"><li><a href="/tags/java" context="[object Object]" class=" ">java</a></li><li><a href="/tags/java8" context="[object Object]" class=" ">java8</a></li><li><a href="/tags/tutorial" context="[object Object]" class=" ">tutorial</a></li><li><a href="/tags/lambda" context="[object Object]" class=" ">lambda</a></li><li><a href="/tags/stream api" context="[object Object]" class=" ">stream api</a></li><li><a href="/tags/functional programming" context="[object Object]" class=" ">functional programming</a></li></ul> <!-- -->•<!-- --> <span>☕️<!-- --> <!-- -->3<!-- --> min read</span></small></header><div class="BlogPostLayout_content__jzLFq"><div><p>Although I don’t prefer Java as my day-to-day language - mostly because of the sizes of my projects, it is a language that I really like programming in. A single Java code can run on almost all types of machines, the syntax is great, it is full OOP - something I really like, it has so many quality libraries to chose from and the list goes on. It has its bad parts, too. The major problem that affects my preference about Java, I think most of you out there will agree with me, is verbosity. But a big step was taken in Java 8 to a more functional &amp; less verbose programming language. One of the most important features of Java 8 is <em>lambda expressions</em>.</p><h2 id="example">Example</h2><p>Creating a Comparator before Java 8 was like this:</p><pre><code class="language-java" data-language="java" data-highlighted-line-numbers=""><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> beforeJava8 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> o1<span class="token punctuation">,</span> <span class="token class-name">Integer</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> o1 <span class="token operator">-</span> o2<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><p>With Java 8, it’s like this:</p><pre><code class="language-java" data-language="java" data-highlighted-line-numbers=""><span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> withJava8 <span class="token operator">=</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span> <span class="token operator">-></span> o1 <span class="token operator">-</span> o2<span class="token punctuation">;</span>
</code></pre><p>Right part of the expression above, <code>(o1, o2) -&gt; o1 - o2</code>  is a <em>lambda expression</em>. It takes <code>o1</code>, <code>o2</code>  as parameters of the <code>compare</code> method of <code>Comparator</code>, and returns <code>o1 - o2</code> . <code>-&gt;</code>  is the separator - called <em>lambda operator</em>, of the lambda expression. It separates <strong>parameters</strong> from the <strong>body</strong> of the lambda expression. In a lambda expression, we don’t have to declare the types explicitly. Java can determine the types from the context. Since the type we declared as arguments of Comparator is Integer , Java can infer the types of <code>o1</code> and <code>o2</code> as <code>Integer</code>. But if we remove the type from the Comparator declaration and write something like this, <strong>code will not compile</strong> since Java can’t infer the types.</p><pre><code class="language-java" data-language="java" data-highlighted-line-numbers=""><span class="token class-name">Comparator</span> withJava8 <span class="token operator">=</span> <span class="token punctuation">(</span>o1<span class="token punctuation">,</span> o2<span class="token punctuation">)</span> <span class="token operator">-></span> o1 <span class="token operator">-</span> o2<span class="token punctuation">;</span> <span class="token comment">// fails to compile</span>
</code></pre><p>By the way, lambdas are not just fancied anonymous classes. They separate themselves from anonymous classes in the lower levels of Java. Some of the differences between them are listed below.</p><ul><li>Lambdas are not implemented using anonymous classes; meaning they don’t take space in the disk as .class  files and it speeds up the start time of JVM.</li><li>Types used in lambdas are not explicit, they are determined from the context.</li><li>Variables cannot be shadowed in a lambda expression. If attempted, it gives a compile time error.</li><li>this refers to the class that uses the lambda expression. On anonymous classes, it refers to anonymous class itself.</li></ul><h2 id="how-it-works">How it works</h2><p>If we look at the declaration of Comparator interface, we see a new annotation.</p><pre><code class="language-java" data-language="java" data-highlighted-line-numbers=""><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token punctuation">{</span>
</code></pre><p><em><strong>Lambdas can only be used on functional interfaces, which has exactly one abstract method. </strong>(Default methods aren’t counted as abstract)</em> <code>@FunctionalInterface</code> annotation is not something that functional interfaces <em>must</em> have, but it’s a good sign both for us and the Java to understand that an interface is a functional interface. Do we have to write all of the functional interfaces we’re going to use ? Of course not. Java 8 comes with a great number of functional interfaces, located in <code>java.util.function</code> package.</p><h3 id="javautilfunctionconsumer">java.util.function.Consumer</h3><p>Consumer interface performs an operation on an argument.</p><pre><code class="language-java" data-language="java" data-highlighted-line-numbers=""><span class="token class-name">Consumer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> consumer <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="javautilfunctionsupplier">java.util.function.Supplier</h3><p>Supplier interface takes no argument, but produces a result.</p><pre><code class="language-java" data-language="java" data-highlighted-line-numbers=""><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">></span></span> supplier <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-></span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="javautilfunctionfunction">java.util.function.Function</h3><p>Function interface takes one argument, and produces a result.</p><pre><code class="language-java" data-language="java" data-highlighted-line-numbers=""><span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> function <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h3 id="javautilfunctionpredicate">java.util.function.Predicate</h3><p>Predicate interface takes one argument, and returns the result of an evaluation on that argument.</p><pre><code class="language-java" data-language="java" data-highlighted-line-numbers=""><span class="token class-name">Predicate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> predicate <span class="token operator">=</span> <span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token operator">-></span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre><p>Another great feature of Java 8 is <strong>Stream API</strong>, which will be covered on a later post. It provides a greater functionality to Java, and also it is a <em>perfect fit</em> for lambda expressions. Until then, <em>Valéte!</em></p></div></div><div style="margin-top:3rem"><div id="disqus_thread"></div></div><footer class="BlogPostLayout_footer__2aOsZ"><h3 class="BlogPostLayout_title__3g2FG"><a href="/" context="[object Object]" class=" ">smddzcy | yet another dev</a></h3><div class="
      Bio_Bio__3ifbk
      BlogPostLayout_bio__3d60S
    "><img src="https://pbs.twimg.com/profile_images/781276128673689600/tGOdd3qK_400x400.jpg" alt="Me"/><div><div>software engineer, web enthusiast. shares articles, tutorials and his thoughts on various things.</div><div><a href="https://linkedin.com/in/smddzcy" title="LinkedIn" rel="nofollow noopener noreferrer" target="_blank" style="margin-right:5px">LinkedIn</a>•<a href="https://github.com/smddzcy" title="GitHub" rel="nofollow noopener noreferrer" target="_blank" style="margin:0 5px">GitHub</a>•<a href="https://twitter.com/smddzcy" title="Twitter" rel="nofollow noopener noreferrer" target="_blank" style="margin:0 5px">Twitter</a>•<a href="/cv" title="CV" style="margin:0 5px">CV</a></div></div></div><section class="BlogPostLayout_links__2NwEx"><a class=" " href="/posts/2016-06-03/streams-in-java-8" context="[object Object]">← <!-- -->Streams in Java 8</a><a class="BlogPostLayout_next__3Rs3G " href="/posts/2016-01-26/multi-threading-in-php7-pthreads" context="[object Object]">Multi-Threading in PHP7 w/ pThreads<!-- --> →</a></section></footer></article></main></div></div><script>!function(u){function e(e){for(var t,r,n=e[0],o=e[1],c=e[2],f=0,a=[];f<n.length;f++)r=n[f],l[r]&&a.push(l[r][0]),l[r]=0;for(t in o)Object.prototype.hasOwnProperty.call(o,t)&&(u[t]=o[t]);for(p&&p(e);a.length;)a.shift()();return i.push.apply(i,c||[]),d()}function d(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==l[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var r={},a={25:0},l={25:0},i=[];function s(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return u[e].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.e=function(i){var e=[];a[i]?e.push(a[i]):0!==a[i]&&{1:1,13:1}[i]&&e.push(a[i]=new Promise(function(e,n){for(var t="static/css/"+({}[i]||i)+"."+{1:"dc8a1de5",2:"31d6cfe0",3:"31d6cfe0",4:"31d6cfe0",5:"31d6cfe0",6:"31d6cfe0",7:"31d6cfe0",8:"31d6cfe0",9:"31d6cfe0",10:"31d6cfe0",11:"31d6cfe0",12:"31d6cfe0",13:"26efd817",14:"31d6cfe0",15:"31d6cfe0",16:"31d6cfe0",17:"31d6cfe0",18:"31d6cfe0",19:"31d6cfe0",20:"31d6cfe0",21:"31d6cfe0",22:"31d6cfe0",23:"31d6cfe0"}[i]+".chunk.css",o=s.p+t,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var f=(u=r[c]).getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(f===t||f===o))return e()}var a=document.getElementsByTagName("style");for(c=0;c<a.length;c++){var u;if((f=(u=a[c]).getAttribute("data-href"))===t||f===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var t=e&&e.target&&e.target.src||o,r=new Error("Loading CSS chunk "+i+" failed.\n("+t+")");r.request=t,n(r)},d.href=o,document.getElementsByTagName("head")[0].appendChild(d)}).then(function(){a[i]=0}));var r=l[i];if(0!==r)if(r)e.push(r[2]);else{var t=new Promise(function(e,t){r=l[i]=[e,t]});e.push(r[2]=t);var n,o=document.getElementsByTagName("head")[0],c=document.createElement("script");c.charset="utf-8",c.timeout=120,s.nc&&c.setAttribute("nonce",s.nc),c.src=s.p+"static/js/"+({}[i]||i)+"."+{1:"b3d573ab",2:"ddfe1d18",3:"abab26af",4:"9fae8b2e",5:"c9845cb8",6:"df4bee88",7:"77d8472f",8:"6fcf3006",9:"02364535",10:"f3a124ff",11:"e29f266c",12:"f4ee39a9",13:"ecfd0a18",14:"8c0b56be",15:"c645de54",16:"5a0b6a8d",17:"cb00b3cd",18:"577af234",19:"6082ae8c",20:"e0a9def7",21:"56d38641",22:"73fce9e4",23:"f0904554"}[i]+".chunk.js",n=function(e){c.onerror=c.onload=null,clearTimeout(f);var t=l[i];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src,o=new Error("Loading chunk "+i+" failed.\n("+r+": "+n+")");o.type=r,o.request=n,t[1](o)}l[i]=void 0}};var f=setTimeout(function(){n({type:"timeout",target:c})},12e4);c.onerror=c.onload=n,o.appendChild(c)}return Promise.all(e)},s.m=u,s.c=r,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var t=window.webpackJsonp=window.webpackJsonp||[],n=t.push.bind(t);t.push=e,t=t.slice();for(var o=0;o<t.length;o++)e(t[o]);var p=n;d()}([])</script><script src="/static/js/24.4c2ae2cc.chunk.js"></script><script src="/static/js/main.03716715.chunk.js"></script></body></html>
(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{100:function(e,n,a){"use strict";function t(e,n){for(var a=0;a<n.length;a++){var t=n[a];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function o(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}a.d(n,"a",function(){return o})},101:function(e,n,a){"use strict";function t(e){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}a.d(n,"a",function(){return t})},102:function(e,n,a){"use strict";function t(e){return(t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return(o="function"===typeof Symbol&&"symbol"===t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)})(e)}function r(e,n){return!n||"object"!==o(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}a.d(n,"a",function(){return r})},103:function(e,n,a){"use strict";function t(e,n){return(t=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function o(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}a.d(n,"a",function(){return o})},115:function(e,n,a){"use strict";a.r(n),a.d(n,"readingTime",function(){return g}),a.d(n,"default",function(){return d}),a.d(n,"tableOfContents",function(){return f}),a.d(n,"frontMatter",function(){return b});var t=a(17),o=a(99),r=a(100),s=a(102),p=a(101),i=a(103),m=a(0),c=a.n(m),l=a(26),u=a(116),h=a.n(u),g={text:"3 min read",minutes:2.775,time:166500,words:555},d=function(e){function n(e){var a;return Object(o.a)(this,n),(a=Object(s.a)(this,Object(p.a)(n).call(this,e))).layout=null,a}return Object(i.a)(n,e),Object(r.a)(n,[{key:"render",value:function(){var e=this.props,n=e.components;Object(t.a)(e,["components"]);return c.a.createElement(l.MDXTag,{name:"wrapper",components:n},c.a.createElement("div",null,c.a.createElement(l.MDXTag,{name:"p",components:n},"There are two ways to build PHP. First way is the simplest and no-mess way, using ",c.a.createElement(l.MDXTag,{name:"strong",components:n,parentName:"p"},"Homebrew")," - or any equivalent ",c.a.createElement(l.MDXTag,{name:"em",components:n,parentName:"p"},"package manager")," depending on your system. If you are not already familiar with package managers, I strongly suggest you to be. \xa0They make lives easier for sure. The second way is the slow &\xa0messy way; building it from scratch without any package manager. It may be slow and messy but actually, it gives you more options while building. This is my way of installing PHP on my\xa0servers, but on my personal computer; since I don\u2019t have any\xa0deep\xa0specific requirements - and for simplicity too -\xa0I\u2019ll be using and talking about the\xa0Homebrew way. I\u2019ll publish\xa0a tutorial about this too, but now let\u2019s start."),c.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"installing"}},"Installing"),c.a.createElement(l.MDXTag,{name:"p",components:n},"First, update the Homebrew and\xa0get the required formulas -\xa0",c.a.createElement(l.MDXTag,{name:"em",components:n,parentName:"p"},"formulas")," are just packages,\xa0like those in aptitude. If you don\u2019t have Homebrew\xa0yet, visit this page\xa0for installation and detailed usage:\xa0",c.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"p",props:{href:"http://brew.sh"}},"http://brew.sh")),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'brew update <span class="token operator">&amp;&amp;</span> brew tap homebrew/php\n'}}})),c.a.createElement(l.MDXTag,{name:"p",components:n},"See which versions of PHP we can have."),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:"brew search php\n"}}})),c.a.createElement(l.MDXTag,{name:"p",components:n},'There will be a long list.\xa0If you\xa0see something like\xa0"',c.a.createElement(l.MDXTag,{name:"strong",components:n,parentName:"p"},"homebrew/php/php70"),'" then it\u2019s OK. Now let\u2019s look at the\xa0options we have.'),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:"brew options php70\n"}}})),c.a.createElement(l.MDXTag,{name:"p",components:n},"You can use any of these options while installing\xa0PHP, but do not forget to include\xa0",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"--with-thread-safety"),", it is essential for threading\xa0extensions. Now start the installation"),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'brew <span class="token function">install</span> php70 --with-thread-safety --with-homebrew-curl\n'}}})),c.a.createElement(l.MDXTag,{name:"p",components:n},"After some\xa0time - brace yourself, it might take a little long\xa0- depending on your internet and\xa0Mac\u2019s speed, installation finishes. Now install some extensions. My recommendations are here but you can find all the extensions by\xa0",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"brew search php70-")),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'brew <span class="token function">install</span> php70-opcache php70-mcrypt php70-pthreads php70-xdebug --build-from-source\nbrew <span class="token function">install</span> php70-memcached --build-from-source --HEAD\n'}}})),c.a.createElement(l.MDXTag,{name:"p",components:n},"Installation is done, let\u2019s continue with configuration."),c.a.createElement(l.MDXTag,{name:"h2",components:n,props:{id:"configuring"}},"Configuring"),c.a.createElement(l.MDXTag,{name:"p",components:n},"I start by adding PHP support\xa0in Apache. First you have to find the path to your httpd.conf file: (mostly it\u2019ll be\xa0",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"/private/etc/apache2/httpd.conf"),")"),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'httpd -V <span class="token operator">|</span> <span class="token function">grep</span> SERVER\\_CONFIG\\_FILE\n'}}})),c.a.createElement(l.MDXTag,{name:"p",components:n},"Open the\xa0file with a text editor, also\xa0with privileges otherwise you can\u2019t make changes -\xa0use ",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"sudo"),"\xa0for example."),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token function">sudo</span> <span class="token function">nano</span> PATH-TO-YOUR-CONFIG\n'}}})),c.a.createElement(l.MDXTag,{name:"p",components:n},"Add these at the end of the file"),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"LoadModule php7_module /usr/local/opt/php70/libexec/apache2/libphp7.so\n\n<FilesMatch .php$>\n    SetHandler application/x-httpd-php\n</FilesMatch>\n")),c.a.createElement(l.MDXTag,{name:"p",components:n},"Then\xa0find this line"),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"DirectoryIndex index.html\n")),c.a.createElement(l.MDXTag,{name:"p",components:n},"and change with:"),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},"DirectoryIndex index.php index.html\n")),c.a.createElement(l.MDXTag,{name:"p",components:n},"You can close the config file. Now let\u2019s set up the ",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"php.ini"),". First make a\xa0link to the new ",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"php.ini")," file"),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token function">sudo</span> <span class="token function">mv</span> /etc/php.ini /etc/php.ini_old\n<span class="token function">sudo</span> <span class="token function">ln</span> -s /usr/local/etc/php/7.0/php.ini /etc/php.ini\n'}}})),c.a.createElement(l.MDXTag,{name:"p",components:n},c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"/etc")," is the path to my .ini file. You can see yours by running:"),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:"php --ini\n"}}})),c.a.createElement(l.MDXTag,{name:"p",components:n},"Then this file needs some configuration too. Find ",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},";date.timezone\xa0=")," and set your\xa0timezone. Mine is:"),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{}},'date.timezone = "Europe/Istanbul"\n')),c.a.createElement(l.MDXTag,{name:"p",components:n},"Find ",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},";opcache.enable"),",\xa0",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},";opcache.enable_cli")," and set them both\xa0to ",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"1"),", also delete the ",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},";")," (",c.a.createElement(l.MDXTag,{name:"em",components:n,parentName:"p"},"semicolon"),") prefixes. For detailed opcache settings, visit this page:\xa0",c.a.createElement(l.MDXTag,{name:"a",components:n,parentName:"p",props:{href:"https://www.scalingphpbook.com/best-zend-opcache-settings-tuning-config/"}},"https://www.scalingphpbook.com/best-zend-opcache-settings-tuning-config/")),c.a.createElement(l.MDXTag,{name:"p",components:n},"There are tons of\xa0options in the ",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"php.ini")," and ",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"httpd.conf"),", I can\u2019t include them all\xa0here but\xa0I suggest you to make some research and find the best options that suit your case. After these,\xa0it should be all set. Open a new terminal window,\xa0fire up your\xa0server and check the\xa0PHP version.\xa0You can also see your installed extensions by running ",c.a.createElement(l.MDXTag,{name:"inlineCode",components:n,parentName:"p"},"php -m"),"."),c.a.createElement(l.MDXTag,{name:"pre",components:n},c.a.createElement(l.MDXTag,{name:"code",components:n,parentName:"pre",props:{className:"language-bash","data-language":"bash","data-highlighted-line-numbers":"",dangerouslySetInnerHTML:{__html:'<span class="token function">sudo</span> httpd -k restart\nphp -v\n'}}})),c.a.createElement("img",{src:h.a,alt:"php 7 version"}),c.a.createElement(l.MDXTag,{name:"p",components:n},"My next post will be about using ",c.a.createElement(l.MDXTag,{name:"strong",components:n,parentName:"p"},"pThreads"),". If you have questions or recommendations about PHP 7, please let me know.")))}}]),n}(c.a.Component),f=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[{id:"installing",level:2,title:"Installing",children:[]},{id:"configuring",level:2,title:"Configuring",children:[]}]},b={}},116:function(e,n,a){e.exports=a.p+"static/media/php-7-version.65df2595.png"},99:function(e,n,a){"use strict";function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}a.d(n,"a",function(){return t})}}]);
//# sourceMappingURL=14.316eada0.chunk.js.map